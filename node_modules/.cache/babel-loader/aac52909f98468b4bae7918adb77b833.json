{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/thread-loader/dist/cjs.js!/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js!/Users/guohechuan/code/aurora/node_modules/eslint-loader/index.js??ref--13-0!/Users/guohechuan/code/aurora/src/utils/services.js","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/utils/services.js","mtime":1626163653610},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9ndW9oZWNodWFuL2NvZGUvYXVyb3JhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IEFWIGZyb20gJ2xlYW5jbG91ZC1zdG9yYWdlJzsKaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnOwppbXBvcnQgZG9jdW1lbnRzIGZyb20gJy4vZG9jdW1lbnRzJzsKdmFyIEdSQVBIUUxfVVJMID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vZ3JhcGhxbCc7CnZhciBHSVRIVUJfQVBJID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MnOwp2YXIgdXNlcm5hbWUgPSBjb25maWcudXNlcm5hbWUsCiAgICByZXBvc2l0b3J5ID0gY29uZmlnLnJlcG9zaXRvcnksCiAgICB0b2tlbiA9IGNvbmZpZy50b2tlbjsKdmFyIGJsb2cgPSAiIi5jb25jYXQoR0lUSFVCX0FQSSwgIi8iKS5jb25jYXQodXNlcm5hbWUsICIvIikuY29uY2F0KHJlcG9zaXRvcnkpOwp2YXIgYWNjZXNzX3Rva2VuID0gInRva2VuICIuY29uY2F0KHRva2VuLmpvaW4oJycpKTsKdmFyIGlzRGV2ID0gL14oMTkyXC4xNjh8bG9jYWxob3N0KS8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdCk7IC8vIOeKtuaAgeajgOa1iwoKdmFyIGNoZWNrU3RhdHVzID0gZnVuY3Rpb24gY2hlY2tTdGF0dXMocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHJldHVybiByZXNwb25zZTsKICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7CiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTsKICB0aHJvdyBlcnJvcjsKfTsgLy8gZ2l0aHViIGZldGNoCgoKdmFyIGdpdGh1YkZldGNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1cmwpIHsKICAgIHZhciBpc1F1ZXJ5UGFnZSwKICAgICAgICByZXNwb25zZSwKICAgICAgICBkYXRhLAogICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpc1F1ZXJ5UGFnZSA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDogZmFsc2U7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybCwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYWNjZXNzX3Rva2VuCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY2hlY2tTdGF0dXMocmVzcG9uc2UpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBpc1F1ZXJ5UGFnZSA/IGRhdGFbMF0gOiBkYXRhKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTJdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2l0aHViRmV0Y2goX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOyAvLyDmnoTlu7ogR3JhcGhRTAoKCnZhciBjcmVhdGVDYWxsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGRvY3VtZW50KSB7CiAgICB2YXIgcGF5bG9hZCwgcmVzcG9uc2UsIGJvZHk7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgcXVlcnk6IGRvY3VtZW50CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBmZXRjaChHUkFQSFFMX1VSTCwgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGFjY2Vzc190b2tlbgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYm9keTogcGF5bG9hZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGNoZWNrU3RhdHVzKHJlc3BvbnNlKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgYm9keSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgYm9keS5kYXRhKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTJdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ2FsbChfeDIpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsgLy8g6I635Y+W5paH56ug5pWw6YePCgoKZXhwb3J0IHZhciBxdWVyeUFyY2hpdmVzQ291bnQgPSBmdW5jdGlvbiBxdWVyeUFyY2hpdmVzQ291bnQoKSB7CiAgcmV0dXJuIGNyZWF0ZUNhbGwoZG9jdW1lbnRzLnF1ZXJ5QXJjaGl2ZXNDb3VudCh7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5CiAgfSkpOwp9OyAvLyDojrflj5bngbXmhJ/mlbDph48KCmV4cG9ydCB2YXIgcXVlcnlJbnNwaXJhdGlvbkNvdW50ID0gZnVuY3Rpb24gcXVlcnlJbnNwaXJhdGlvbkNvdW50KCkgewogIHJldHVybiBjcmVhdGVDYWxsKGRvY3VtZW50cy5xdWVyeUluc3BpcmF0aW9uQ291bnQoewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgcmVwb3NpdG9yeTogcmVwb3NpdG9yeQogIH0pKTsKfTsgLy8g5oyJ5YiG57G7ICYg5qCH562+562b6YCJ5paH56ugCgpleHBvcnQgdmFyIHF1ZXJ5RmlsdGVyQXJjaGl2ZXNDb3VudCA9IGZ1bmN0aW9uIHF1ZXJ5RmlsdGVyQXJjaGl2ZXNDb3VudChfcmVmMykgewogIHZhciBsYWJlbCA9IF9yZWYzLmxhYmVsLAogICAgICBtaWxlc3RvbmUgPSBfcmVmMy5taWxlc3RvbmU7CiAgcmV0dXJuIGNyZWF0ZUNhbGwoZG9jdW1lbnRzLnF1ZXJ5RmlsdGVyQXJjaGl2ZXNDb3VudCh7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICByZXBvc2l0b3J5OiByZXBvc2l0b3J5LAogICAgbGFiZWw6IGxhYmVsLAogICAgbWlsZXN0b25lOiBtaWxlc3RvbmUKICB9KSk7Cn07IC8vIOiOt+WPluaWh+eroOWIl+ihqAoKZXhwb3J0IHZhciBxdWVyeVBvc3RzID0gZnVuY3Rpb24gcXVlcnlQb3N0cyhfcmVmNCkgewogIHZhciBfcmVmNCRwYWdlID0gX3JlZjQucGFnZSwKICAgICAgcGFnZSA9IF9yZWY0JHBhZ2UgPT09IHZvaWQgMCA/IDEgOiBfcmVmNCRwYWdlLAogICAgICBfcmVmNCRwYWdlU2l6ZSA9IF9yZWY0LnBhZ2VTaXplLAogICAgICBwYWdlU2l6ZSA9IF9yZWY0JHBhZ2VTaXplID09PSB2b2lkIDAgPyAxMCA6IF9yZWY0JHBhZ2VTaXplLAogICAgICBfcmVmNCRmaWx0ZXIgPSBfcmVmNC5maWx0ZXIsCiAgICAgIGZpbHRlciA9IF9yZWY0JGZpbHRlciA9PT0gdm9pZCAwID8gJycgOiBfcmVmNCRmaWx0ZXI7CiAgdmFyIHVybCA9ICIiLmNvbmNhdChibG9nLCAiL2lzc3Vlcz9zdGF0ZT1vcGVuJnBhZ2U9IikuY29uY2F0KHBhZ2UsICImcGVyX3BhZ2U9IikuY29uY2F0KHBhZ2VTaXplKS5jb25jYXQoZmlsdGVyKTsKICByZXR1cm4gZ2l0aHViRmV0Y2godXJsKTsKfTsgLy8g6I635Y+W5Y2V56+H5paH56ugCgpleHBvcnQgdmFyIHF1ZXJ5UG9zdCA9IGZ1bmN0aW9uIHF1ZXJ5UG9zdChudW1iZXIpIHsKICB2YXIgdXJsID0gIiIuY29uY2F0KGJsb2csICIvaXNzdWVzLyIpLmNvbmNhdChudW1iZXIsICI/c3RhdGU9b3BlbiIpOwogIHJldHVybiBnaXRodWJGZXRjaCh1cmwpOwp9OyAvLyDojrflj5bliIbnsbsKCmV4cG9ydCB2YXIgcXVlcnlDYXRlZ29yeSA9IGZ1bmN0aW9uIHF1ZXJ5Q2F0ZWdvcnkoKSB7CiAgdmFyIHVybCA9ICIiLmNvbmNhdChibG9nLCAiL21pbGVzdG9uZXMiKTsKICByZXR1cm4gZ2l0aHViRmV0Y2godXJsKTsKfTsgLy8g6I635Y+W5qCH562+CgpleHBvcnQgdmFyIHF1ZXJ5VGFnID0gZnVuY3Rpb24gcXVlcnlUYWcoKSB7CiAgdmFyIHVybCA9ICIiLmNvbmNhdChibG9nLCAiL2xhYmVscz9wYWdlPTEmcGVyX3BhZ2U9MTAwIik7CiAgcmV0dXJuIGdpdGh1YkZldGNoKHVybCk7Cn07IC8vIOiOt+WPlueBteaEnwoKZXhwb3J0IHZhciBxdWVyeUluc3BpcmF0aW9uID0gZnVuY3Rpb24gcXVlcnlJbnNwaXJhdGlvbihfcmVmNSkgewogIHZhciBfcmVmNSRwYWdlID0gX3JlZjUucGFnZSwKICAgICAgcGFnZSA9IF9yZWY1JHBhZ2UgPT09IHZvaWQgMCA/IDEgOiBfcmVmNSRwYWdlLAogICAgICBfcmVmNSRwYWdlU2l6ZSA9IF9yZWY1LnBhZ2VTaXplLAogICAgICBwYWdlU2l6ZSA9IF9yZWY1JHBhZ2VTaXplID09PSB2b2lkIDAgPyAxMCA6IF9yZWY1JHBhZ2VTaXplOwogIHZhciB1cmwgPSAiIi5jb25jYXQoYmxvZywgIi9pc3N1ZXM/c3RhdGU9Y2xvc2VkJmxhYmVscz1pbnNwaXJhdGlvbiZwYWdlPSIpLmNvbmNhdChwYWdlLCAiJnBlcl9wYWdlPSIpLmNvbmNhdChwYWdlU2l6ZSk7CiAgcmV0dXJuIGdpdGh1YkZldGNoKHVybCk7Cn07IC8vIOiOt+WPluS5puWNlSAmIOWPi+mTviAmIOWFs+S6jgoKZXhwb3J0IHZhciBxdWVyeVBhZ2UgPSBmdW5jdGlvbiBxdWVyeVBhZ2UodHlwZSkgewogIHZhciB1cHBlclR5cGUgPSB0eXBlLnJlcGxhY2UoL15cUy8sIGZ1bmN0aW9uIChzKSB7CiAgICByZXR1cm4gcy50b1VwcGVyQ2FzZSgpOwogIH0pOwogIHZhciB1cmwgPSAiIi5jb25jYXQoYmxvZywgIi9pc3N1ZXM/c3RhdGU9Y2xvc2VkJmxhYmVscz0iKS5jb25jYXQodXBwZXJUeXBlKTsKICByZXR1cm4gZ2l0aHViRmV0Y2godXJsLCB0cnVlKTsKfTsgLy8g5paH56ug54Ot5bqmCgpleHBvcnQgdmFyIHF1ZXJ5SG90ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGlkcykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgaWYgKGlzRGV2KSByZXR1cm4gcmVzb2x2ZShbXSk7CiAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KCdDb3VudGVyJyk7CiAgICAgICAgICAgICAgcXVlcnkuY29udGFpbmVkSW4oJ2lkJywgaWRzKTsKICAgICAgICAgICAgICBxdWVyeS5maW5kKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICB2YXIgaG90ID0ge307CiAgICAgICAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAobykgewogICAgICAgICAgICAgICAgICByZXR1cm4gaG90W28uYXR0cmlidXRlcy5pZF0gPSBvLmF0dHJpYnV0ZXMudGltZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmVzb2x2ZShob3QpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwogICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gcXVlcnlIb3QoX3gzKSB7CiAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7IC8vIOWinuWKoOeDreW6pgoKZXhwb3J0IHZhciBpbmNyZWFzZUhvdCA9IGZ1bmN0aW9uIGluY3JlYXNlSG90KHBvc3QpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIGlmIChpc0RldikgcmV0dXJuIHJlc29sdmUoMSk7CiAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoJ0NvdW50ZXInKTsKICAgIHZhciBDb3VudGVyID0gQVYuT2JqZWN0LmV4dGVuZCgnQ291bnRlcicpOwogICAgdmFyIHRpdGxlID0gcG9zdC50aXRsZSwKICAgICAgICBpZCA9IHBvc3QuaWQ7CiAgICBxdWVyeS5lcXVhbFRvKCdpZCcsIGlkKTsKICAgIHF1ZXJ5LmZpbmQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5bey5a2Y5Zyo5YiZ6L+U5Zue54Ot5bqmCiAgICAgICAgdmFyIGNvdW50ZXIgPSByZXNbMF07CiAgICAgICAgY291bnRlci5pbmNyZW1lbnQoJ3RpbWUnLCAxKS5zYXZlKG51bGwsIHsKICAgICAgICAgIGZldGNoV2hlblNhdmU6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb3VudGVyKSB7CiAgICAgICAgICB2YXIgdGltZSA9IGNvdW50ZXIuZ2V0KCd0aW1lJyk7CiAgICAgICAgICByZXNvbHZlKHRpbWUpOwogICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOS4jeWtmOWcqOWImeaWsOW7ugogICAgICAgIHZhciBuZXdjb3VudGVyID0gbmV3IENvdW50ZXIoKTsKICAgICAgICBuZXdjb3VudGVyLnNldCgndGl0bGUnLCB0aXRsZSk7CiAgICAgICAgbmV3Y291bnRlci5zZXQoJ2lkJywgaWQpOwogICAgICAgIG5ld2NvdW50ZXIuc2V0KCd0aW1lJywgMSk7CiAgICAgICAgbmV3Y291bnRlci5zZXQoJ3NpdGUnLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICBuZXdjb3VudGVyLnNhdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKDEpOwogICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwogICAgICB9CiAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKfTsgLy8gTnlhfn4KCmV4cG9ydCB2YXIgcXVlcnlMaWtlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHR5cGUpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgIGlmIChpc0RldikgcmV0dXJuIHJlc29sdmUoMCk7CiAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KCdDb3VudGVyJyk7CiAgICAgICAgICAgICAgdmFyIENvdW50ZXIgPSBBVi5PYmplY3QuZXh0ZW5kKCdDb3VudGVyJyk7CiAgICAgICAgICAgICAgcXVlcnkuZXF1YWxUbygndGl0bGUnLCAnc2l0ZScpOwogICAgICAgICAgICAgIHF1ZXJ5LmZpcnN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZ2V0VGltZXMnKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuZ2V0KCd0aW1lJykpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlcy5pbmNyZW1lbnQoJ3RpbWUnLCAxKS5zYXZlKG51bGwsIHsKICAgICAgICAgICAgICAgICAgICAgIGZldGNoV2hlblNhdmU6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb3VudGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShjb3VudGVyLmdldCgndGltZScpKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdmFyIG5ld2NvdW50ZXIgPSBuZXcgQ291bnRlcigpOwogICAgICAgICAgICAgICAgICBuZXdjb3VudGVyLnNldCgndGl0bGUnLCAnc2l0ZScpOwogICAgICAgICAgICAgICAgICBuZXdjb3VudGVyLnNldCgndGltZScsIDEpOwogICAgICAgICAgICAgICAgICBuZXdjb3VudGVyLnNldCgnc2l0ZScsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICAgICAgICBuZXdjb3VudGVyLnNhdmUoKS50aGVuKGZ1bmN0aW9uIChjb3VudGVyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoY291bnRlci5nZXQoJ3RpbWUnKSk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwogICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNCk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gcXVlcnlMaWtlKF94NCkgewogICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOyAvLyDorr/pl67mnaXmupAKCmV4cG9ydCB2YXIgdmlzaXRvclN0YXRpc3RpY3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmVmZXJyZXIpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgIGlmIChpc0RldikgcmV0dXJuIHJlc29sdmUoKTsKICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoJ1Zpc2l0b3InKTsKICAgICAgICAgICAgICB2YXIgVmlzaXRvciA9IEFWLk9iamVjdC5leHRlbmQoJ1Zpc2l0b3InKTsKICAgICAgICAgICAgICBxdWVyeS5lcXVhbFRvKCdyZWZlcnJlcicsIHJlZmVycmVyKTsKICAgICAgICAgICAgICBxdWVyeS5maXJzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICByZXMuaW5jcmVtZW50KCd0aW1lJywgMSkuc2F2ZShudWxsLCB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hXaGVuU2F2ZTogdHJ1ZQogICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHZhciBuZXdWaXNpdG9yID0gbmV3IFZpc2l0b3IoKTsKICAgICAgICAgICAgICAgICAgbmV3VmlzaXRvci5zZXQoJ3JlZmVycmVyJywgcmVmZXJyZXIpOwogICAgICAgICAgICAgICAgICBuZXdWaXNpdG9yLnNldCgndGltZScsIDEpOwogICAgICAgICAgICAgICAgICBuZXdWaXNpdG9yLnNhdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTsKICAgICAgICAgICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcikpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHZpc2l0b3JTdGF0aXN0aWNzKF94NSkgewogICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOw=="},null]}