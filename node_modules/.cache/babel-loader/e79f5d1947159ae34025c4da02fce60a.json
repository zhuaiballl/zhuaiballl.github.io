{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js!/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/components/Cover/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/components/Cover/index.vue","mtime":1626163653604},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmlsZUNETiB9IGZyb20gJ0AvdXRpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvdmVyJywKICBwcm9wczogewogICAgc3JjOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBhbHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGxvYWRDb3ZlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlZmF1bHRDb3ZlcjogdGhpcy4kY29uZmlnLmRlZmF1bHRDb3ZlciwKICAgICAgaW1nU3JjOiAnJywKICAgICAgdmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbG9hZENvdmVyOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLmxvYWRJbWcoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRJbWc6IGZ1bmN0aW9uIGxvYWRJbWcoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY2RuVXJsID0gZmlsZUNETih0aGlzLnNyYyk7CiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKCiAgICAgIGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pbWdTcmMgPSBjZG5Vcmw7CgogICAgICAgIF90aGlzLiRlbWl0KCdsb2FkTmV4dCcpOwoKICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnZpc2libGUgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgaW1nLnNyYyA9IGNkblVybDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAQA,SAAA,OAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AATA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KAAA,OAAA,CAAA,YADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAtBA;AAuBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,GAFA,EAEA;AACA,YAAA,GAAA,EAAA;AACA,eAAA,OAAA;AACA;AACA;AANA;AADA,GAvBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,KAAA,GAAA,CAAA;AAEA,UAAA,GAAA,GAAA,IAAA,KAAA,EAAA;;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,GAAA,CAAA,OAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,MAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA;;AACA,QAAA,KAAA,CAAA,SAAA,CAAA;AAAA,iBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AAAA,SAAA;AACA,OAJA;;AAKA,MAAA,GAAA,CAAA,GAAA,GAAA,MAAA;AACA;AAXA;AAjCA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img :src=\"defaultCover\" alt=\"defaultCover\" />\n    <img :class=\"['cover', visible && 'fadeIn']\" :src=\"imgSrc\" />\n  </div>\n</template>\n\n<script>\nimport { fileCDN } from '@/utils'\n\nexport default {\n  name: 'Cover',\n  props: {\n    src: {\n      type: String,\n      default: '',\n    },\n    alt: {\n      type: String,\n      default: '',\n    },\n    loadCover: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      defaultCover: this.$config.defaultCover,\n      imgSrc: '',\n      visible: false,\n    }\n  },\n  watch: {\n    loadCover: {\n      immediate: true,\n      handler(val) {\n        if (val) {\n          this.loadImg()\n        }\n      },\n    },\n  },\n  methods: {\n    loadImg() {\n      const cdnUrl = fileCDN(this.src)\n\n      const img = new Image()\n      img.onload = img.onerror = () => {\n        this.imgSrc = cdnUrl\n        this.$emit('loadNext')\n        this.$nextTick(() => (this.visible = true))\n      }\n      img.src = cdnUrl\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  position: relative;\n\n  .cover {\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n  }\n\n  .fadeIn {\n    animation: coverIn 0.8s ease-out forwards;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/Cover"}]}