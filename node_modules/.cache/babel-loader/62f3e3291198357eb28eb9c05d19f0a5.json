{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js!/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/components/ScrollTop/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/components/ScrollTop/index.vue","mtime":1626163653607},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTY3JvbGxUb3AnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93QmFja1RvcDogZmFsc2UsCiAgICAgIHRvcERpc3RhbmNlOiAtOTUwLAogICAgICBjbGllbnRIZWlnaHQ6IDAsCiAgICAgIGxhc3RTY3JvbGxUaW1lcjogJycsCiAgICAgIGxhc3RTY3JvbGxBdDogbmV3IERhdGUoKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYWNrVG9wU3R5bGU6IGZ1bmN0aW9uIGJhY2tUb3BTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0cmFuc2Zvcm06ICJ0cmFuc2xhdGVZKCIuY29uY2F0KHRoaXMudG9wRGlzdGFuY2UsICJweCkiKQogICAgICB9OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICghdGhpcy4kaXNNb2JpbGUudmFsdWUpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOa7muWKqOWIsOmhtumDqAogICAgc2Nyb2xsVG9wOiBmdW5jdGlvbiBzY3JvbGxUb3AoKSB7CiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnm5HlkKzpobXpnaLmu5rliqgKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkgewogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdFNjcm9sbEF0IDw9IDE1MCkgcmV0dXJuOwogICAgICB0aGlzLmxhc3RTY3JvbGxBdCA9IG5vdzsKICAgICAgdGhpcy5oYW5kbGVUb3AoKTsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGFzdFNjcm9sbFRpbWVyKTsKICAgICAgdGhpcy5sYXN0U2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuaGFuZGxlVG9wLCAzMDApOwogICAgfSwKICAgIC8vIOWkhOeQhua7muWKqOS6i+S7tgogICAgaGFuZGxlVG9wOiBmdW5jdGlvbiBoYW5kbGVUb3AoKSB7CiAgICAgIC8vIOabtOaWsOmhtumDqOi/m+W6puadoQogICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgdmFyIHNjcm9sbFJhbmdlID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSBjbGllbnRIZWlnaHQgLSA1MDsKICAgICAgdmFyIHBhZ2VZT2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0OwogICAgICB0aGlzLiRQcm9ncmVzcy5zZXQocGFnZVlPZmZzZXQgLyBzY3JvbGxSYW5nZSAqIDEwMCk7IC8vIOWIpOaWreS9jee9ru+8jOaOp+WItua7muWKqOWIsOmhtumDqAoKICAgICAgdmFyIHNob3dCYWNrVG9wID0gcGFnZVlPZmZzZXQgPj0gMjAwOwoKICAgICAgaWYgKHNob3dCYWNrVG9wICE9PSB0aGlzLnNob3dCYWNrVG9wIHx8IHRoaXMuY2xpZW50SGVpZ2h0ICE9PSBjbGllbnRIZWlnaHQpIHsKICAgICAgICB0aGlzLnRvcERpc3RhbmNlID0gLTk1MCArIChzaG93QmFja1RvcCA/IGNsaWVudEhlaWdodCA6IDApOwogICAgICAgIHRoaXMuY2xpZW50SGVpZ2h0ID0gY2xpZW50SGVpZ2h0OwogICAgICAgIHRoaXMuc2hvd0JhY2tUb3AgPSBzaG93QmFja1RvcDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,CAAA,GAFA;AAGA,MAAA,YAAA,EAAA,CAHA;AAIA,MAAA,eAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,IAAA,IAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA;AAAA,QAAA,SAAA,uBAAA,KAAA,WAAA;AAAA,OAAA;AACA;AAHA,GAXA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,QAAA,CAAA,KAAA,SAAA,CAAA,KAAA,EAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA;AAAA,QAAA,GAAA,EAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA;AACA,KAJA;AAKA;AACA,IAAA,YANA,0BAMA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,GAAA,GAAA,KAAA,YAAA,IAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,GAAA;AACA,WAAA,SAAA;AAEA,MAAA,YAAA,CAAA,KAAA,eAAA,CAAA;AACA,WAAA,eAAA,GAAA,UAAA,CAAA,KAAA,SAAA,EAAA,GAAA,CAAA;AACA,KAdA;AAeA;AACA,IAAA,SAhBA,uBAgBA;AACA;AACA,UAAA,YAAA,GAAA,QAAA,CAAA,eAAA,CAAA,YAAA;AACA,UAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,YAAA,GAAA,YAAA,GAAA,EAAA;AACA,UAAA,WAAA,GAAA,MAAA,CAAA,WAAA;AACA,WAAA,SAAA,CAAA,GAAA,CAAA,WAAA,GAAA,WAAA,GAAA,GAAA,EALA,CAOA;;AACA,UAAA,WAAA,GAAA,WAAA,IAAA,GAAA;;AACA,UAAA,WAAA,KAAA,KAAA,WAAA,IAAA,KAAA,YAAA,KAAA,YAAA,EAAA;AACA,aAAA,WAAA,GAAA,CAAA,GAAA,IAAA,WAAA,GAAA,YAAA,GAAA,CAAA,CAAA;AACA,aAAA,YAAA,GAAA,YAAA;AACA,aAAA,WAAA,GAAA,WAAA;AACA;AACA;AA9BA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\" :style=\"backTopStyle\">\n    <div v-if=\"!$isMobile.value\" @click=\"scrollTop\" :class=\"['back-to-top', 'cursor']\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ScrollTop',\n  data() {\n    return {\n      showBackTop: false,\n      topDistance: -950,\n      clientHeight: 0,\n      lastScrollTimer: '',\n      lastScrollAt: new Date(),\n    }\n  },\n  computed: {\n    backTopStyle() {\n      return { transform: `translateY(${this.topDistance}px)` }\n    },\n  },\n  mounted() {\n    if (!this.$isMobile.value) {\n      window.addEventListener('scroll', this.handleScroll)\n    }\n  },\n  methods: {\n    // 滚动到顶部\n    scrollTop() {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    },\n    // 监听页面滚动\n    handleScroll() {\n      const now = new Date()\n      if (now - this.lastScrollAt <= 150) return\n      this.lastScrollAt = now\n      this.handleTop()\n\n      clearTimeout(this.lastScrollTimer)\n      this.lastScrollTimer = setTimeout(this.handleTop, 300)\n    },\n    // 处理滚动事件\n    handleTop() {\n      // 更新顶部进度条\n      const clientHeight = document.documentElement.clientHeight\n      const scrollRange = document.body.clientHeight - clientHeight - 50\n      const pageYOffset = window.pageYOffset\n      this.$Progress.set((pageYOffset / scrollRange) * 100)\n\n      // 判断位置，控制滚动到顶部\n      const showBackTop = pageYOffset >= 200\n      if (showBackTop !== this.showBackTop || this.clientHeight !== clientHeight) {\n        this.topDistance = -950 + (showBackTop ? clientHeight : 0)\n        this.clientHeight = clientHeight\n        this.showBackTop = showBackTop\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n"],"sourceRoot":"src/components/ScrollTop"}]}