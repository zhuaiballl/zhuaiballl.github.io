{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js!/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/views/Post/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/views/Post/index.vue","mtime":1626163653612},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2d1b2hlY2h1YW4vY29kZS9hdXJvcmEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTWFya0Rvd24gZnJvbSAnQC9jb21wb25lbnRzL01hcmtEb3duJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQ29tbWVudCBmcm9tICdAL2NvbXBvbmVudHMvQ29tbWVudCc7CmltcG9ydCBDb3ZlciBmcm9tICdAL2NvbXBvbmVudHMvQ292ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Bvc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIE1hcmtEb3duOiBNYXJrRG93biwKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBDb21tZW50OiBDb21tZW50LAogICAgQ292ZXI6IENvdmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdDogJycsCiAgICAgIGluaXRDb21tZW50OiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfdGhpcyQkcm91dGUkcGFyYW1zLCBudW1iZXIsIHBvc3Q7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMkJHJvdXRlJHBhcmFtcyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMsIG51bWJlciA9IF90aGlzJCRyb3V0ZSRwYXJhbXMubnVtYmVyLCBwb3N0ID0gX3RoaXMkJHJvdXRlJHBhcmFtcy5wb3N0OwoKICAgICAgICAgICAgICBpZiAoIXBvc3QpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy5wb3N0ID0gcG9zdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucXVlcnlQb3N0KG51bWJlcik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnF1ZXJ5SG90KCk7CgogICAgICAgICAgICAgICAgX3RoaXMuaW5pdENvbW1lbnQgPSB0cnVlOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5paH56ug6K+m5oOFCiAgICBxdWVyeVBvc3Q6IGZ1bmN0aW9uIHF1ZXJ5UG9zdChudW1iZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5UG9zdCcsIHsKICAgICAgICAgICAgICAgICAgbnVtYmVyOiBudW1iZXIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIucG9zdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5blubblop7liqDng63luqYKICAgIHF1ZXJ5SG90OiBmdW5jdGlvbiBxdWVyeUhvdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgaG90OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnaW5jcmVhc2VIb3QnLCB7CiAgICAgICAgICAgICAgICAgIHBvc3Q6IF90aGlzMy5wb3N0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaG90ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRzZXQoX3RoaXMzLnBvc3QsICd0aW1lcycsIGhvdCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,QAAA,MAAA,uBAAA;AACA,OAAA,OAAA,MAAA,sBAAA;AACA,OAAA,OAAA,MAAA,sBAAA;AACA,OAAA,KAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,OAAA,EAAA,OAHA;AAIA,IAAA,KAAA,EAAA;AAJA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oCACA,KAAA,CAAA,MAAA,CAAA,MADA,EACA,MADA,uBACA,MADA,EACA,IADA,uBACA,IADA;;AAAA,mBAEA,IAFA;AAAA;AAAA;AAAA;;AAGA,cAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AAHA;AAAA;;AAAA;AAAA;AAAA,qBAKA,KAAA,CAAA,SAAA,CAAA,MAAA,CALA;;AAAA;AAOA,cAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,gBAAA,KAAA,CAAA,QAAA;;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,eAHA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,MAFA,EAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,MAAA,CAAA,IADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAJA;AAKA;AACA,IAAA,QANA,sBAMA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AAAA,kBAAA,IAAA,EAAA,MAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,GADA;;AAEA,gBAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,EAAA,OAAA,EAAA,GAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AATA;AA1BA,CAAA","sourcesContent":["<template>\n  <div id=\"post\">\n    <Transition name=\"fade-transform\" mode=\"out-in\">\n      <article v-if=\"post\">\n        <div class=\"post-header\">\n          <Cover :src=\"post.cover.src\" :alt=\"post.cover.title\" loadCover maskHeight=\"0.8rem\" />\n          <div class=\"post-head\">\n            <div class=\"post-title\">\n              <h1>{{ post.title }}</h1>\n              <span>{{ post.cover.title }}</span>\n            </div>\n            <div class=\"post-meta\">\n              <span>\n                <i class=\"icon icon-calendar\"></i>\n                {{ post.created_at }}\n              </span>\n              <span>\n                <i class=\"icon icon-fire\"></i>\n                热度{{ post.times || 1 }}℃\n              </span>\n              <span>\n                <i class=\"icon icon-bookmark-empty\"></i>\n                {{ post.milestone ? post.milestone.title : '未分类' }}\n              </span>\n              <span>\n                <i class=\"icon icon-tag\"></i>\n                <span v-for=\"label in post.labels\" :key=\"label.id\">{{ label.name }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class=\"post-body\">\n          <MarkDown :content=\"post.body\" target=\"#post\" />\n        </div>\n      </article>\n      <Loading v-else />\n    </Transition>\n\n    <Comment v-if=\"initComment\" :title=\"post.title\" />\n  </div>\n</template>\n\n<script>\nimport MarkDown from '@/components/MarkDown'\nimport Loading from '@/components/Loading'\nimport Comment from '@/components/Comment'\nimport Cover from '@/components/Cover'\n\nexport default {\n  name: 'Post',\n  components: {\n    MarkDown,\n    Loading,\n    Comment,\n    Cover,\n  },\n  data() {\n    return {\n      post: '',\n      initComment: false,\n    }\n  },\n  async created() {\n    const { number, post } = this.$route.params\n    if (post) {\n      this.post = post\n    } else {\n      await this.queryPost(number)\n    }\n    this.$nextTick(() => {\n      this.queryHot()\n      this.initComment = true\n    })\n  },\n  methods: {\n    // 获取文章详情\n    async queryPost(number) {\n      this.post = await this.$store.dispatch('queryPost', { number })\n    },\n    // 获取并增加热度\n    async queryHot() {\n      const hot = await this.$store.dispatch('increaseHot', { post: this.post })\n      this.$set(this.post, 'times', hot)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n@import './index.scss';\n</style>\n"],"sourceRoot":"src/views/Post"}]}