{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js!/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/App.vue","mtime":1626163653600},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcic7CmltcG9ydCBGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL0Zvb3Rlcic7CmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvUGFuZWwnOwppbXBvcnQgU2Nyb2xsVG9wIGZyb20gJ0AvY29tcG9uZW50cy9TY3JvbGxUb3AnOwppbXBvcnQgeyBnZXRMb2NhdGlvbiwgaXNNb2JpbGUgfSBmcm9tICdAL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgRm9vdGVyOiBGb290ZXIsCiAgICBQYW5lbDogUGFuZWwsCiAgICBTY3JvbGxUb3A6IFNjcm9sbFRvcAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dIZWFkZXI6IHRydWUsCiAgICAgIGxhc3RSZXNpemVUaW1lcjogJycsCiAgICAgIGxhc3RSZXNpemVBdDogbmV3IERhdGUoKQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIGlmICh0aGlzLiRpc01vYmlsZS52YWx1ZSkgewogICAgICAgICAgdGhpcy5zaG93SGVhZGVyID0gdmFsLm5hbWUgIT09ICdwb3N0JzsKICAgICAgICB9CgogICAgICAgIGlmICh2YWwubmFtZSA9PT0gJ3Bvc3QnKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2Nyb2xsVG9wLCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICckaXNNb2JpbGUudmFsdWUnOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLnNob3dIZWFkZXIgPSB0aGlzLiRyb3V0ZSAmJiB0aGlzLiRyb3V0ZS5uYW1lICE9PSAncG9zdCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvd0hlYWRlciA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0UHJvZ3Jlc3MoKTsKICAgIHRoaXMudmlzaXRvclN0YXRpc3RpY3MoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRQcm9ncmVzcy5maW5pc2goKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeql+WPo+ebkeWQrAogICAgaGFuZGxlUmVzaXplOiBmdW5jdGlvbiBoYW5kbGVSZXNpemUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdFJlc2l6ZUF0IDw9IDE1MCkgcmV0dXJuOwogICAgICB0aGlzLmxhc3RSZXNpemVBdCA9IG5vdzsKICAgICAgdGhpcy4kaXNNb2JpbGUudmFsdWUgPSBpc01vYmlsZSgpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5sYXN0UmVzaXplVGltZXIpOwogICAgICB0aGlzLmxhc3RSZXNpemVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRpc01vYmlsZS52YWx1ZSA9IGlzTW9iaWxlKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g5rOo5YaM6aG26YOo6L+b5bqm5p2hCiAgICBpbml0UHJvZ3Jlc3M6IGZ1bmN0aW9uIGluaXRQcm9ncmVzcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRQcm9ncmVzcy5zdGFydCgpOwogICAgICB0aGlzLiRyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAgICAgICBfdGhpczIuJFByb2dyZXNzLnN0YXJ0KCk7CgogICAgICAgIG5leHQoKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kUHJvZ3Jlc3MuZmluaXNoKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOe7n+iuoeiuv+Wuouadpea6kAogICAgdmlzaXRvclN0YXRpc3RpY3M6IGZ1bmN0aW9uIHZpc2l0b3JTdGF0aXN0aWNzKCkgewogICAgICB2YXIgcmVmZXJyZXIgPSBnZXRMb2NhdGlvbihkb2N1bWVudC5yZWZlcnJlcik7CiAgICAgIHZhciBob3N0bmFtZSA9IHJlZmVycmVyLmhvc3RuYW1lIHx8ICfnm7TmjqXorr/pl64nOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndmlzaXRvclN0YXRpc3RpY3MnLCBob3N0bmFtZSk7CiAgICB9LAogICAgLy8g5rua5Yqo5Yiw6aG26YOoCiAgICBzY3JvbGxUb3A6IGZ1bmN0aW9uIHNjcm9sbFRvcCgpIHsKICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <vue-progress-bar />\n    <Transition name=\"header-transform\" mode=\"out-in\">\n      <Header v-show=\"showHeader\" />\n    </Transition>\n    <main class=\"main\">\n      <Transition name=\"fade-transform\" mode=\"out-in\">\n        <keep-alive :exclude=\"['Post']\" :max=\"10\">\n          <RouterView />\n        </keep-alive>\n      </Transition>\n    </main>\n    <Footer />\n    <Panel />\n    <ScrollTop />\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/Header'\nimport Footer from '@/components/Footer'\nimport Panel from '@/components/Panel'\nimport ScrollTop from '@/components/ScrollTop'\nimport { getLocation, isMobile } from '@/utils'\n\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer,\n    Panel,\n    ScrollTop,\n  },\n  data() {\n    return {\n      showHeader: true,\n      lastResizeTimer: '',\n      lastResizeAt: new Date(),\n    }\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler(val) {\n        if (this.$isMobile.value) {\n          this.showHeader = val.name !== 'post'\n        }\n        if (val.name === 'post') {\n          setTimeout(this.scrollTop, 500)\n        }\n      },\n    },\n    '$isMobile.value': {\n      immediate: true,\n      handler(val) {\n        if (val) {\n          this.showHeader = this.$route && this.$route.name !== 'post'\n        } else {\n          this.showHeader = true\n        }\n      },\n    },\n  },\n  created() {\n    this.initProgress()\n    this.visitorStatistics()\n  },\n  mounted() {\n    this.$Progress.finish()\n    window.addEventListener('resize', this.handleResize)\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n  methods: {\n    // 窗口监听\n    handleResize() {\n      const now = new Date()\n      if (now - this.lastResizeAt <= 150) return\n      this.lastResizeAt = now\n      this.$isMobile.value = isMobile()\n\n      clearTimeout(this.lastResizeTimer)\n      this.lastResizeTimer = setTimeout(() => {\n        this.$isMobile.value = isMobile()\n      }, 300)\n    },\n    // 注册顶部进度条\n    initProgress() {\n      this.$Progress.start()\n      this.$router.beforeEach((to, from, next) => {\n        this.$Progress.start()\n        next()\n      })\n      this.$router.afterEach(() => {\n        this.$Progress.finish()\n      })\n    },\n    // 统计访客来源\n    visitorStatistics() {\n      const referrer = getLocation(document.referrer)\n      const hostname = referrer.hostname || '直接访问'\n      this.$store.dispatch('visitorStatistics', hostname)\n    },\n    // 滚动到顶部\n    scrollTop() {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n#app {\n  position: relative;\n  @include pc-layout {\n    padding-bottom: 100px;\n  }\n  @include sp-layout {\n    padding-bottom: 60px;\n  }\n\n  .main {\n    margin: 0 auto;\n    max-width: $page-desktop;\n    user-select: text;\n  }\n}\n</style>\n"],"sourceRoot":"src"}]}