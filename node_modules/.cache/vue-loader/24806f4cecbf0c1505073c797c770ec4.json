{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/views/Post/index.vue?vue&type=style&index=0&lang=scss&scope=true&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/views/Post/index.vue","mtime":1626163653612},{"path":"/Users/guohechuan/code/aurora/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICcuL2luZGV4LnNjc3MnOwo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA","file":"index.vue","sourceRoot":"src/views/Post","sourcesContent":["<template>\n  <div id=\"post\">\n    <Transition name=\"fade-transform\" mode=\"out-in\">\n      <article v-if=\"post\">\n        <div class=\"post-header\">\n          <Cover :src=\"post.cover.src\" :alt=\"post.cover.title\" loadCover maskHeight=\"0.8rem\" />\n          <div class=\"post-head\">\n            <div class=\"post-title\">\n              <h1>{{ post.title }}</h1>\n              <span>{{ post.cover.title }}</span>\n            </div>\n            <div class=\"post-meta\">\n              <span>\n                <i class=\"icon icon-calendar\"></i>\n                {{ post.created_at }}\n              </span>\n              <span>\n                <i class=\"icon icon-fire\"></i>\n                热度{{ post.times || 1 }}℃\n              </span>\n              <span>\n                <i class=\"icon icon-bookmark-empty\"></i>\n                {{ post.milestone ? post.milestone.title : '未分类' }}\n              </span>\n              <span>\n                <i class=\"icon icon-tag\"></i>\n                <span v-for=\"label in post.labels\" :key=\"label.id\">{{ label.name }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class=\"post-body\">\n          <MarkDown :content=\"post.body\" target=\"#post\" />\n        </div>\n      </article>\n      <Loading v-else />\n    </Transition>\n\n    <Comment v-if=\"initComment\" :title=\"post.title\" />\n  </div>\n</template>\n\n<script>\nimport MarkDown from '@/components/MarkDown'\nimport Loading from '@/components/Loading'\nimport Comment from '@/components/Comment'\nimport Cover from '@/components/Cover'\n\nexport default {\n  name: 'Post',\n  components: {\n    MarkDown,\n    Loading,\n    Comment,\n    Cover,\n  },\n  data() {\n    return {\n      post: '',\n      initComment: false,\n    }\n  },\n  async created() {\n    const { number, post } = this.$route.params\n    if (post) {\n      this.post = post\n    } else {\n      await this.queryPost(number)\n    }\n    this.$nextTick(() => {\n      this.queryHot()\n      this.initComment = true\n    })\n  },\n  methods: {\n    // 获取文章详情\n    async queryPost(number) {\n      this.post = await this.$store.dispatch('queryPost', { number })\n    },\n    // 获取并增加热度\n    async queryHot() {\n      const hot = await this.$store.dispatch('increaseHot', { post: this.post })\n      this.$set(this.post, 'times', hot)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n@import './index.scss';\n</style>\n"]}]}