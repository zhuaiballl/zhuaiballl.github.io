{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/views/Post/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/views/Post/index.vue","mtime":1626163653612},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNYXJrRG93biBmcm9tICdAL2NvbXBvbmVudHMvTWFya0Rvd24nCmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nJwppbXBvcnQgQ29tbWVudCBmcm9tICdAL2NvbXBvbmVudHMvQ29tbWVudCcKaW1wb3J0IENvdmVyIGZyb20gJ0AvY29tcG9uZW50cy9Db3ZlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9zdCcsCiAgY29tcG9uZW50czogewogICAgTWFya0Rvd24sCiAgICBMb2FkaW5nLAogICAgQ29tbWVudCwKICAgIENvdmVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3Q6ICcnLAogICAgICBpbml0Q29tbWVudDogZmFsc2UsCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgY29uc3QgeyBudW1iZXIsIHBvc3QgfSA9IHRoaXMuJHJvdXRlLnBhcmFtcwogICAgaWYgKHBvc3QpIHsKICAgICAgdGhpcy5wb3N0ID0gcG9zdAogICAgfSBlbHNlIHsKICAgICAgYXdhaXQgdGhpcy5xdWVyeVBvc3QobnVtYmVyKQogICAgfQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLnF1ZXJ5SG90KCkKICAgICAgdGhpcy5pbml0Q29tbWVudCA9IHRydWUKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmlofnq6Dor6bmg4UKICAgIGFzeW5jIHF1ZXJ5UG9zdChudW1iZXIpIHsKICAgICAgdGhpcy5wb3N0ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3F1ZXJ5UG9zdCcsIHsgbnVtYmVyIH0pCiAgICB9LAogICAgLy8g6I635Y+W5bm25aKe5Yqg54Ot5bqmCiAgICBhc3luYyBxdWVyeUhvdCgpIHsKICAgICAgY29uc3QgaG90ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2luY3JlYXNlSG90JywgeyBwb3N0OiB0aGlzLnBvc3QgfSkKICAgICAgdGhpcy4kc2V0KHRoaXMucG9zdCwgJ3RpbWVzJywgaG90KQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Post","sourcesContent":["<template>\n  <div id=\"post\">\n    <Transition name=\"fade-transform\" mode=\"out-in\">\n      <article v-if=\"post\">\n        <div class=\"post-header\">\n          <Cover :src=\"post.cover.src\" :alt=\"post.cover.title\" loadCover maskHeight=\"0.8rem\" />\n          <div class=\"post-head\">\n            <div class=\"post-title\">\n              <h1>{{ post.title }}</h1>\n              <span>{{ post.cover.title }}</span>\n            </div>\n            <div class=\"post-meta\">\n              <span>\n                <i class=\"icon icon-calendar\"></i>\n                {{ post.created_at }}\n              </span>\n              <span>\n                <i class=\"icon icon-fire\"></i>\n                热度{{ post.times || 1 }}℃\n              </span>\n              <span>\n                <i class=\"icon icon-bookmark-empty\"></i>\n                {{ post.milestone ? post.milestone.title : '未分类' }}\n              </span>\n              <span>\n                <i class=\"icon icon-tag\"></i>\n                <span v-for=\"label in post.labels\" :key=\"label.id\">{{ label.name }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class=\"post-body\">\n          <MarkDown :content=\"post.body\" target=\"#post\" />\n        </div>\n      </article>\n      <Loading v-else />\n    </Transition>\n\n    <Comment v-if=\"initComment\" :title=\"post.title\" />\n  </div>\n</template>\n\n<script>\nimport MarkDown from '@/components/MarkDown'\nimport Loading from '@/components/Loading'\nimport Comment from '@/components/Comment'\nimport Cover from '@/components/Cover'\n\nexport default {\n  name: 'Post',\n  components: {\n    MarkDown,\n    Loading,\n    Comment,\n    Cover,\n  },\n  data() {\n    return {\n      post: '',\n      initComment: false,\n    }\n  },\n  async created() {\n    const { number, post } = this.$route.params\n    if (post) {\n      this.post = post\n    } else {\n      await this.queryPost(number)\n    }\n    this.$nextTick(() => {\n      this.queryHot()\n      this.initComment = true\n    })\n  },\n  methods: {\n    // 获取文章详情\n    async queryPost(number) {\n      this.post = await this.$store.dispatch('queryPost', { number })\n    },\n    // 获取并增加热度\n    async queryHot() {\n      const hot = await this.$store.dispatch('increaseHot', { post: this.post })\n      this.$set(this.post, 'times', hot)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n@import './index.scss';\n</style>\n"]}]}