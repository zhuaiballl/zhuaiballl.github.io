{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/components/Footer/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/components/Footer/index.vue","mtime":1626163653604},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSAnQC91dGlscycKaW1wb3J0IG1vZGVsIGZyb20gJ0AvYXNzZXRzL2xpdmUyZC93YWlmdS5qc29uJwppbXBvcnQgdGlwcyBmcm9tICdAL2Fzc2V0cy9saXZlMmQvdGlwcy5qc29uJwppbXBvcnQgY29zdHVtZSBmcm9tICdAL2Fzc2V0cy9saXZlMmQvY29zdHVtZS5qc29uJwppbXBvcnQgaW1hZ2VzIGZyb20gJ0AvYXNzZXRzL2ltYWdlcycKCmNvbnN0IHsgd2FpZnVDbGljaywgaG92ZXJUaXBzLCBjbGlja1RpcHMsIGhpdG9rb3RvcyB9ID0gdGlwcwpjb25zdCB7IHNha3VyYSB9ID0gaW1hZ2VzCmNvbnN0IHBhdGggPSAnL2xpdmUyZC8nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Zvb3RlcicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNha3VyYSwKICAgICAgc2hvd1dhaWZ1OiB0cnVlLAogICAgICB3YWlmdTogJ3RpYScsCiAgICAgIG1lbnU6IFsKICAgICAgICB7IGljb246ICd2ZW51cy1kb3VibGUnLCB0eXBlOiAnc3dpdGNoJyB9LAogICAgICAgIHsgaWNvbjogJ3Qtc2hpcnQnLCB0eXBlOiAnZHJlc3N1cCcgfSwKICAgICAgICB7IGljb246ICdjYW1lcmEnLCB0eXBlOiAndGFrZXBob3RvJyB9LAogICAgICAgIHsgaWNvbjogJ2NvbW1lbnQnLCB0eXBlOiAndGFsaycgfSwKICAgICAgICB7IGljb246ICdjYW5jZWwtb3V0bGluZScsIHR5cGU6ICdjbG9zZScgfSwKICAgICAgXSwKICAgICAgYXVkaW86IHRoaXMuJGNvbmZpZy5BUGxheWVyLAogICAgICBpc01pbmk6IHRydWUsCiAgICB9CiAgfSwKICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgdGlwczogKHN0YXRlKSA9PiBzdGF0ZS50aXBzLAogICAgdGlwc1VwZGF0ZUF0OiAoc3RhdGUpID0+IHN0YXRlLnRpcHNVcGRhdGVBdCwKICB9KSwKICBtb3VudGVkKCkgewogICAgaWYgKCF0aGlzLiRpc01vYmlsZS52YWx1ZSkgewogICAgICB0aGlzLmRyZXNzdXAoKQogICAgICB0aGlzLmxvb3BUaXBzKCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRyZXNzdXAoc3dpdGNoV2FpZnUgPSBmYWxzZSkgewogICAgICBpZiAoc3dpdGNoV2FpZnUpIHRoaXMud2FpZnUgPSB0aGlzLndhaWZ1ID09PSAndGlhJyA/ICdwaW8nIDogJ3RpYScKICAgICAgLy8g6I635Y+W6KOF5omuCiAgICAgIGNvbnN0IHdhaWZ1Q29zdHVtZSA9IGNvc3R1bWVbdGhpcy53YWlmdV0KICAgICAgbGV0IHRleHR1cmVzCiAgICAgIHdoaWxlICghdGV4dHVyZXMgfHwgdGV4dHVyZXMgPT09IG1vZGVsLnRleHR1cmVzWzBdKSB7CiAgICAgICAgdGV4dHVyZXMgPSB3YWlmdUNvc3R1bWVbcmFuZG9tKDAsIHdhaWZ1Q29zdHVtZS5sZW5ndGggLSAxKV0KICAgICAgfQogICAgICAvLyDojrflj5bmqKHlnosKICAgICAgbW9kZWwubW9kZWwgPSBgbW9jLyR7dGhpcy53YWlmdX0ubW9jYAogICAgICBtb2RlbC50ZXh0dXJlcyA9IFt0ZXh0dXJlc10KICAgICAgLy8g6K6+572u57yp5pS+5q+U5L6LCiAgICAgIG1vZGVsLmxheW91dC53aWR0aCA9IHRoaXMud2FpZnUgPT09ICd0aWEnID8gMS44MiA6IDIKICAgICAgd2luZG93LndhaWZ1TW9kZWwgPSBtb2RlbAogICAgICB3aW5kb3cubG9hZGxpdmUyZCgnbGl2ZTJkJywgcGF0aCwgJycpCiAgICB9LAogICAgbG9vcFRpcHMoKSB7CiAgICAgIHNldFRpbWVvdXQodGhpcy5sb29wVGlwcywgMTYgKiAxMDAwKQogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpCiAgICAgIGlmICh0aGlzLnRpcHMgfHwgKHRoaXMudGlwc1VwZGF0ZUF0ICYmIG5vdyAtIHRoaXMudGlwc1VwZGF0ZUF0IDwgNjAwMCkpIHJldHVybgogICAgICBjb25zdCBpbnggPSByYW5kb20oMCwgaGl0b2tvdG9zLmxlbmd0aCAtIDEpCiAgICAgIGNvbnN0IG5leHRUaXBzID0gaGl0b2tvdG9zW2lueF0uaGl0b2tvdG8KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Nob3dUaXBzJywgeyB0aXBzOiBuZXh0VGlwcyB9KQogICAgfSwKICAgIGhhbmRsZUNsaWNrV2FpZnUoKSB7CiAgICAgIGxldCBuZXh0VGlwcyA9IHRoaXMudGlwcwogICAgICB3aGlsZSAobmV4dFRpcHMgPT09IHRoaXMudGlwcykgewogICAgICAgIGNvbnN0IGlueCA9IHJhbmRvbSgwLCB3YWlmdUNsaWNrLmxlbmd0aCAtIDEpCiAgICAgICAgbmV4dFRpcHMgPSB3YWlmdUNsaWNrW2lueF0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2hvd1RpcHMnLCB7IHRpcHM6IG5leHRUaXBzIH0pCiAgICB9LAogICAgaGFuZGxlSG92ZXIodHlwZSkgewogICAgICBsZXQgdGlwcwogICAgICBpZiAodHlwZSA9PT0gJ3N3aXRjaCcpIHsKICAgICAgICB0aXBzID0gYOimgeWPrOWUpDxzcGFuIHN0eWxlPSJjb2xvcjogI2I4NTRkNCI+JHsKICAgICAgICAgIHRoaXMud2FpZnUgPT09ICdwaW8nID8gJyDmrKflhoXphbEgVGlhICcgOiAnIOS4gOaKueWkmiBQaW8gJwogICAgICAgIH0gPC9zcGFuPuS5iCjil43Lg8y24Zecy4LMtuKXjSninKlgCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGlwcyA9IGhvdmVyVGlwc1t0eXBlXQogICAgICB9CiAgICAgIGlmICghdGlwcykgcmV0dXJuCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaG93VGlwcycsIHsgdGlwcyB9KQogICAgfSwKICAgIGhhbmRsZUNsaWNrKHR5cGUpIHsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnc3dpdGNoJzoKICAgICAgICAgIHRoaXMuZHJlc3N1cCh0cnVlKQogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlICdkcmVzc3VwJzoKICAgICAgICAgIHRoaXMuZHJlc3N1cCgpCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgJ3Rha2VwaG90byc6CiAgICAgICAgICB3aW5kb3cuTGl2ZTJELmNhcHR1cmVOYW1lID0gJ3dhaWZ1LnBuZycKICAgICAgICAgIHdpbmRvdy5MaXZlMkQuY2FwdHVyZUZyYW1lID0gdHJ1ZQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Nob3dUaXBzJywgeyB0aXBzOiBjbGlja1RpcHMudGFrZVBob3RvIH0pCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgJ3RhbGsnOgogICAgICAgICAgY29uc3QgaW54ID0gcmFuZG9tKDAsIGhpdG9rb3Rvcy5sZW5ndGggLSAxKQogICAgICAgICAgY29uc3QgdGlwcyA9IGhpdG9rb3Rvc1tpbnhdLmhpdG9rb3RvCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2hvd1RpcHMnLCB7IHRpcHMgfSkKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAnY2xvc2UnOgogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Nob3dUaXBzJywgeyB0aXBzOiBjbGlja1RpcHMuY2xvc2UgfSkKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLnNob3dXYWlmdSA9IGZhbHNlCiAgICAgICAgICB9LCAyMDAwKQogICAgICAgICAgYnJlYWsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVVcGRhdGUoaXNNaW5pKSB7CiAgICAgIHRoaXMuaXNNaW5pID0gaXNNaW5pCiAgICB9LAogICAgZHJvcFBhbmVsKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFNob3dQYW5lbCcsIHRydWUpCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Footer","sourcesContent":["<template>\n  <footer>\n    <div class=\"prpr\" v-if=\"!$isMobile.value\">\n      <div class=\"waifu\" v-if=\"showWaifu\">\n        <div v-show=\"tips && isMini\" :class=\"['tips', this.waifu === 'tia' && 'tia']\" v-html=\"tips\"></div>\n        <canvas @click=\"handleClickWaifu\" id=\"live2d\" width=\"280\" height=\"250\" />\n      </div>\n      <div class=\"tool\">\n        <div class=\"menu\" v-if=\"showWaifu\">\n          <ul>\n            <li\n              class=\"cursor\"\n              v-for=\"item in menu\"\n              :key=\"item.type\"\n              @click=\"handleClick(item.type)\"\n              @mouseenter=\"handleHover(item.type)\"\n            >\n              <i :class=\"['icon', `icon-${item.icon}`]\"></i>\n            </li>\n          </ul>\n          <div class=\"devil\">\n            <i class=\"icon icon-emo-devil\"></i>\n          </div>\n        </div>\n        <APlayer :class=\"isMini && 'mini'\" :audio=\"audio\" preload=\"none\" fixed mini @update:mini=\"handleUpdate\" />\n      </div>\n    </div>\n    <div class=\"site-info\">\n      <p>\n        <i class=\"icon icon-copyright\"></i>2017-2021\n        <i class=\"icon icon-heart\"></i>\n        {{ $config.title }}\n      </p>\n      <p>\n        Theme -\n        <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/chanshiyucx/aurora\">Aurora</a>\n        | {{ $config.subtitle }}\n      </p>\n    </div>\n    <img\n      v-if=\"!$isMobile.value\"\n      class=\"sakura cursor\"\n      :src=\"sakura\"\n      @click=\"dropPanel\"\n      @mouseenter=\"handleHover('panel')\"\n      alt=\"sakura\"\n    />\n  </footer>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { random } from '@/utils'\nimport model from '@/assets/live2d/waifu.json'\nimport tips from '@/assets/live2d/tips.json'\nimport costume from '@/assets/live2d/costume.json'\nimport images from '@/assets/images'\n\nconst { waifuClick, hoverTips, clickTips, hitokotos } = tips\nconst { sakura } = images\nconst path = '/live2d/'\n\nexport default {\n  name: 'Footer',\n  data() {\n    return {\n      sakura,\n      showWaifu: true,\n      waifu: 'tia',\n      menu: [\n        { icon: 'venus-double', type: 'switch' },\n        { icon: 't-shirt', type: 'dressup' },\n        { icon: 'camera', type: 'takephoto' },\n        { icon: 'comment', type: 'talk' },\n        { icon: 'cancel-outline', type: 'close' },\n      ],\n      audio: this.$config.APlayer,\n      isMini: true,\n    }\n  },\n  computed: mapState({\n    tips: (state) => state.tips,\n    tipsUpdateAt: (state) => state.tipsUpdateAt,\n  }),\n  mounted() {\n    if (!this.$isMobile.value) {\n      this.dressup()\n      this.loopTips()\n    }\n  },\n  methods: {\n    dressup(switchWaifu = false) {\n      if (switchWaifu) this.waifu = this.waifu === 'tia' ? 'pio' : 'tia'\n      // 获取装扮\n      const waifuCostume = costume[this.waifu]\n      let textures\n      while (!textures || textures === model.textures[0]) {\n        textures = waifuCostume[random(0, waifuCostume.length - 1)]\n      }\n      // 获取模型\n      model.model = `moc/${this.waifu}.moc`\n      model.textures = [textures]\n      // 设置缩放比例\n      model.layout.width = this.waifu === 'tia' ? 1.82 : 2\n      window.waifuModel = model\n      window.loadlive2d('live2d', path, '')\n    },\n    loopTips() {\n      setTimeout(this.loopTips, 16 * 1000)\n      const now = new Date()\n      if (this.tips || (this.tipsUpdateAt && now - this.tipsUpdateAt < 6000)) return\n      const inx = random(0, hitokotos.length - 1)\n      const nextTips = hitokotos[inx].hitokoto\n      this.$store.dispatch('showTips', { tips: nextTips })\n    },\n    handleClickWaifu() {\n      let nextTips = this.tips\n      while (nextTips === this.tips) {\n        const inx = random(0, waifuClick.length - 1)\n        nextTips = waifuClick[inx]\n      }\n      this.$store.dispatch('showTips', { tips: nextTips })\n    },\n    handleHover(type) {\n      let tips\n      if (type === 'switch') {\n        tips = `要召唤<span style=\"color: #b854d4\">${\n          this.waifu === 'pio' ? ' 欧内酱 Tia ' : ' 一抹多 Pio '\n        } </span>么(◍˃̶ᗜ˂̶◍)✩`\n      } else {\n        tips = hoverTips[type]\n      }\n      if (!tips) return\n      this.$store.dispatch('showTips', { tips })\n    },\n    handleClick(type) {\n      switch (type) {\n        case 'switch':\n          this.dressup(true)\n          break\n        case 'dressup':\n          this.dressup()\n          break\n        case 'takephoto':\n          window.Live2D.captureName = 'waifu.png'\n          window.Live2D.captureFrame = true\n          this.$store.dispatch('showTips', { tips: clickTips.takePhoto })\n          break\n        case 'talk':\n          const inx = random(0, hitokotos.length - 1)\n          const tips = hitokotos[inx].hitokoto\n          this.$store.dispatch('showTips', { tips })\n          break\n        case 'close':\n          this.$store.dispatch('showTips', { tips: clickTips.close })\n          setTimeout(() => {\n            this.showWaifu = false\n          }, 2000)\n          break\n        default:\n          return\n      }\n    },\n    handleUpdate(isMini) {\n      this.isMini = isMini\n    },\n    dropPanel() {\n      this.$store.commit('setShowPanel', true)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n@import './index.scss';\n</style>\n"]}]}