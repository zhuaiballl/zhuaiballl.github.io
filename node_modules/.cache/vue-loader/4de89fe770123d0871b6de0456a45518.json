{"remainingRequest":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohechuan/code/aurora/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohechuan/code/aurora/src/App.vue","mtime":1626163653600},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohechuan/code/aurora/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcicKaW1wb3J0IEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvRm9vdGVyJwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL1BhbmVsJwppbXBvcnQgU2Nyb2xsVG9wIGZyb20gJ0AvY29tcG9uZW50cy9TY3JvbGxUb3AnCmltcG9ydCB7IGdldExvY2F0aW9uLCBpc01vYmlsZSB9IGZyb20gJ0AvdXRpbHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgRm9vdGVyLAogICAgUGFuZWwsCiAgICBTY3JvbGxUb3AsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0hlYWRlcjogdHJ1ZSwKICAgICAgbGFzdFJlc2l6ZVRpbWVyOiAnJywKICAgICAgbGFzdFJlc2l6ZUF0OiBuZXcgRGF0ZSgpLAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgaWYgKHRoaXMuJGlzTW9iaWxlLnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNob3dIZWFkZXIgPSB2YWwubmFtZSAhPT0gJ3Bvc3QnCiAgICAgICAgfQogICAgICAgIGlmICh2YWwubmFtZSA9PT0gJ3Bvc3QnKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2Nyb2xsVG9wLCA1MDApCiAgICAgICAgfQogICAgICB9LAogICAgfSwKICAgICckaXNNb2JpbGUudmFsdWUnOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLnNob3dIZWFkZXIgPSB0aGlzLiRyb3V0ZSAmJiB0aGlzLiRyb3V0ZS5uYW1lICE9PSAncG9zdCcKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaG93SGVhZGVyID0gdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0UHJvZ3Jlc3MoKQogICAgdGhpcy52aXNpdG9yU3RhdGlzdGljcygpCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCkKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnqpflj6Pnm5HlkKwKICAgIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKQogICAgICBpZiAobm93IC0gdGhpcy5sYXN0UmVzaXplQXQgPD0gMTUwKSByZXR1cm4KICAgICAgdGhpcy5sYXN0UmVzaXplQXQgPSBub3cKICAgICAgdGhpcy4kaXNNb2JpbGUudmFsdWUgPSBpc01vYmlsZSgpCgogICAgICBjbGVhclRpbWVvdXQodGhpcy5sYXN0UmVzaXplVGltZXIpCiAgICAgIHRoaXMubGFzdFJlc2l6ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kaXNNb2JpbGUudmFsdWUgPSBpc01vYmlsZSgpCiAgICAgIH0sIDMwMCkKICAgIH0sCiAgICAvLyDms6jlhozpobbpg6jov5vluqbmnaEKICAgIGluaXRQcm9ncmVzcygpIHsKICAgICAgdGhpcy4kUHJvZ3Jlc3Muc3RhcnQoKQogICAgICB0aGlzLiRyb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICAgICAgICB0aGlzLiRQcm9ncmVzcy5zdGFydCgpCiAgICAgICAgbmV4dCgpCiAgICAgIH0pCiAgICAgIHRoaXMuJHJvdXRlci5hZnRlckVhY2goKCkgPT4gewogICAgICAgIHRoaXMuJFByb2dyZXNzLmZpbmlzaCgpCiAgICAgIH0pCiAgICB9LAogICAgLy8g57uf6K6h6K6/5a6i5p2l5rqQCiAgICB2aXNpdG9yU3RhdGlzdGljcygpIHsKICAgICAgY29uc3QgcmVmZXJyZXIgPSBnZXRMb2NhdGlvbihkb2N1bWVudC5yZWZlcnJlcikKICAgICAgY29uc3QgaG9zdG5hbWUgPSByZWZlcnJlci5ob3N0bmFtZSB8fCAn55u05o6l6K6/6ZeuJwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndmlzaXRvclN0YXRpc3RpY3MnLCBob3N0bmFtZSkKICAgIH0sCiAgICAvLyDmu5rliqjliLDpobbpg6gKICAgIHNjcm9sbFRvcCgpIHsKICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSkKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <vue-progress-bar />\n    <Transition name=\"header-transform\" mode=\"out-in\">\n      <Header v-show=\"showHeader\" />\n    </Transition>\n    <main class=\"main\">\n      <Transition name=\"fade-transform\" mode=\"out-in\">\n        <keep-alive :exclude=\"['Post']\" :max=\"10\">\n          <RouterView />\n        </keep-alive>\n      </Transition>\n    </main>\n    <Footer />\n    <Panel />\n    <ScrollTop />\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/Header'\nimport Footer from '@/components/Footer'\nimport Panel from '@/components/Panel'\nimport ScrollTop from '@/components/ScrollTop'\nimport { getLocation, isMobile } from '@/utils'\n\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer,\n    Panel,\n    ScrollTop,\n  },\n  data() {\n    return {\n      showHeader: true,\n      lastResizeTimer: '',\n      lastResizeAt: new Date(),\n    }\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler(val) {\n        if (this.$isMobile.value) {\n          this.showHeader = val.name !== 'post'\n        }\n        if (val.name === 'post') {\n          setTimeout(this.scrollTop, 500)\n        }\n      },\n    },\n    '$isMobile.value': {\n      immediate: true,\n      handler(val) {\n        if (val) {\n          this.showHeader = this.$route && this.$route.name !== 'post'\n        } else {\n          this.showHeader = true\n        }\n      },\n    },\n  },\n  created() {\n    this.initProgress()\n    this.visitorStatistics()\n  },\n  mounted() {\n    this.$Progress.finish()\n    window.addEventListener('resize', this.handleResize)\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n  methods: {\n    // 窗口监听\n    handleResize() {\n      const now = new Date()\n      if (now - this.lastResizeAt <= 150) return\n      this.lastResizeAt = now\n      this.$isMobile.value = isMobile()\n\n      clearTimeout(this.lastResizeTimer)\n      this.lastResizeTimer = setTimeout(() => {\n        this.$isMobile.value = isMobile()\n      }, 300)\n    },\n    // 注册顶部进度条\n    initProgress() {\n      this.$Progress.start()\n      this.$router.beforeEach((to, from, next) => {\n        this.$Progress.start()\n        next()\n      })\n      this.$router.afterEach(() => {\n        this.$Progress.finish()\n      })\n    },\n    // 统计访客来源\n    visitorStatistics() {\n      const referrer = getLocation(document.referrer)\n      const hostname = referrer.hostname || '直接访问'\n      this.$store.dispatch('visitorStatistics', hostname)\n    },\n    // 滚动到顶部\n    scrollTop() {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scope>\n#app {\n  position: relative;\n  @include pc-layout {\n    padding-bottom: 100px;\n  }\n  @include sp-layout {\n    padding-bottom: 60px;\n  }\n\n  .main {\n    margin: 0 auto;\n    max-width: $page-desktop;\n    user-select: text;\n  }\n}\n</style>\n"]}]}